<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quant Trading Suite</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <div class="app">
      <aside class="sidebar">
        <div class="brand">
          <div class="brand-icon">QT</div>
          <div>
            <div class="brand-title">Quant Trading Suite</div>
            <div class="brand-subtitle">Institutional research console</div>
          </div>
        </div>
        <div class="card soft">
          <h4>API Connection</h4>
          <label>
            Base URL
            <input id="apiBase" type="text" value="http://localhost:8000" />
          </label>
          <button id="healthCheck" class="ghost">Check Health</button>
          <div id="healthStatus" class="status neutral">Waiting...</div>
        </div>
        <div class="menu">
          <div class="menu-item active">Overview</div>
          <div class="menu-item">Strategies</div>
          <div class="menu-item">Validation</div>
          <div class="menu-item">Data Quality</div>
        </div>
        <div class="card">
          <h4>Quick Settings</h4>
          <label>Interval
            <select id="globalInterval">
              <option value="1m">1m</option>
              <option value="5m">5m</option>
              <option value="15m">15m</option>
              <option value="1h">1h</option>
              <option value="1d">1d</option>
            </select>
          </label>
          <label>Start Date
            <input id="globalStart" type="date" value="2025-01-29" />
          </label>
          <label>End Date
            <input id="globalEnd" type="date" value="2025-02-03" />
          </label>
        </div>
      </aside>
      <main class="main">
        <header class="hero">
          <div>
            <h1>Quant Trading Dashboard</h1>
            <p>Live intraday research with walk-forward validation, regime filters, and execution realism.</p>
          </div>
          <button id="refreshAll" class="primary">Run All</button>
        </header>

        <section class="metrics">
          <div class="metric-card">
            <span class="metric-label">Sharpe</span>
            <span id="metricSharpe" class="metric-value">-</span>
          </div>
          <div class="metric-card">
            <span class="metric-label">Hit Rate</span>
            <span id="metricHitRate" class="metric-value">-</span>
          </div>
          <div class="metric-card">
            <span class="metric-label">Max Drawdown</span>
            <span id="metricDrawdown" class="metric-value">-</span>
          </div>
          <div class="metric-card">
            <span class="metric-label">Gross Exposure</span>
            <span id="metricGross" class="metric-value">-</span>
          </div>
        </section>

        <section class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <h3>Market Maker</h3>
                <p class="muted">Intraday quoting with adaptive spreads</p>
              </div>
              <button id="runMarketMaker" class="primary small">Run</button>
            </div>
            <div class="form-grid">
              <label>Symbol <input id="mmSymbol" value="AAPL" /></label>
              <label>Size <input id="mmSize" type="number" value="5" /></label>
              <label>Base Spread <input id="mmSpread" type="number" value="0.02" step="0.01" /></label>
              <label>Risk Aversion <input id="mmRisk" type="number" value="0.1" step="0.05" /></label>
            </div>
            <canvas id="mmChart" height="160"></canvas>
          </div>
          <div class="card">
            <div class="card-header">
              <div>
                <h3>Pairs Strategy</h3>
                <p class="muted">Regime-aware mean reversion</p>
              </div>
              <button id="runPairs" class="primary small">Run</button>
            </div>
            <div class="form-grid">
              <label>Symbol X <input id="pairsX" value="MSFT" /></label>
              <label>Symbol Y <input id="pairsY" value="AAPL" /></label>
              <label>Entry Z <input id="pairsEntry" type="number" value="1.0" step="0.1" /></label>
              <label>Exit Z <input id="pairsExit" type="number" value="0.2" step="0.1" /></label>
            </div>
            <canvas id="pairsChart" height="160"></canvas>
          </div>
        </section>

        <section class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <h3>Walk-Forward Validation</h3>
                <p class="muted">Rolling windows with intraday bars</p>
              </div>
              <button id="runWalkForward" class="ghost small">Run</button>
            </div>
            <div id="walkForwardTable" class="table muted">No data yet.</div>
          </div>
          <div class="card">
            <div class="card-header">
              <div>
                <h3>Data Quality</h3>
                <p class="muted">Coverage and freshness checks</p>
              </div>
              <button id="runQuality" class="ghost small">Check</button>
            </div>
            <div id="qualityReport" class="quality-grid muted">No report yet.</div>
          </div>
        </section>

        <section class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <h3>Data Explorer</h3>
                <p class="muted">Unified price data with export-ready results</p>
              </div>
              <div class="button-row">
                <button id="runDataExplorer" class="primary small">Fetch</button>
                <button id="downloadData" class="ghost small">Download CSV</button>
              </div>
            </div>
            <div class="form-grid">
              <label>Symbol <input id="dataSymbol" value="AAPL" /></label>
              <label>Source
                <select id="dataSource">
                  <option value="yahoo">Yahoo</option>
                  <option value="alpha_vantage">Alpha Vantage</option>
                </select>
              </label>
              <label>Interval <input id="dataInterval" value="1m" /></label>
              <label>Start <input id="dataStart" type="date" value="2025-01-29" /></label>
              <label>End <input id="dataEnd" type="date" value="2025-02-03" /></label>
            </div>
            <div id="dataExplorerTable" class="table muted">No data yet.</div>
          </div>
          <div class="card">
            <div class="card-header">
              <div>
                <h3>Provider Status</h3>
                <p class="muted">Connection and freshness overview</p>
              </div>
              <button id="refreshProviders" class="ghost small">Refresh</button>
            </div>
            <div id="providerStatus" class="quality-grid muted">No status yet.</div>
          </div>
        </section>
      </main>
    </div>
    <script src="app.js"></script>
  </body>
</html>
